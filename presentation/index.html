<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title></title><meta charset="UTF-8"></meta><meta name="generator" content="Hovercraft! 1.0 http://regebro.github.com/hovercraft"></meta><link rel="stylesheet" href="css/hovercraft.css" media="all"></link><link rel="stylesheet" href="css/impressConsole.css" media="all"></link><link rel="stylesheet" href="css/highlight.css" media="all"></link><script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        showProcessingMessages: false,
        messageStyle: "none",
        TeX : { extensions : ['color.js'] }
      });
    </script></head><body class="impress-not-supported"><div id="impress" data-transition-duration="800"><div class="step step-level-1" step="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="0" data-y="0" data-z="0"><h1 id="what-is-unison">What is unison</h1><ul><li>File synchronizer written in Ocaml</li><li>Works for OSX, Unix and windows</li><li>Allows bidirection synchronization where both replicas were modified</li></ul></div><div class="step step-level-1" step="1" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="1600" data-y="0" data-z="0"><h1 id="history">History</h1><ul><li>Started in 1999 as a part of research paper</li><li>Now in maintenance mode</li></ul></div><div class="step step-level-1" step="2" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="3200" data-y="0" data-z="0"><h1 id="id1">History</h1><ul><li>Harmony -- followup project</li></ul><blockquote><ul><li>synchronizing hierarchal structures expressed in XML</li><li>abandoned</li></ul></blockquote><ul><li>Boomerang -- programming language</li></ul><blockquote><ul><li>well-behaved bi-direction transformation</li><li>on ad-hoc textual data</li></ul></blockquote></div><div class="step step-level-1" step="3" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="4800" data-y="0" data-z="0"><h1 id="unison-my-usecase">Unison - My usecase</h1><ul><li>Synchronizing two or more computers</li><li>Only comparison between two endpoints allowed</li><li>Use start topology with the server in the middle</li></ul></div><div class="step step-level-1" step="4" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="6400" data-y="0" data-z="0"><h1 id="software-setup">Software setup</h1><ul><li>unison -- client/server for synchronization</li><li>unison-gtk -- gui utility</li></ul></div><div class="step step-level-1" step="5" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="8000" data-y="0" data-z="0"><h1 id="gui-utility">Gui utility</h1><img src="img/unison_sync.png"></img></div><div class="step step-level-1" step="6" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="9600" data-y="0" data-z="0"><h1 id="configuration">Configuration</h1><p>Client-side configuration only, allows several profiles</p><p>Default configuration file in ~/.unison/default.prf</p></div><div class="step step-level-1" step="7" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="11200" data-y="0" data-z="0"><h1 id="default-prf-roots">default.prf roots</h1><ul><li>local root</li></ul><pre class="highlight code ini"><span class="na">root</span> <span class="o">=</span> <span class="s">/home/alex</span></pre><ul><li>remote root</li></ul><pre class="highlight code ini"><span class="na">root</span> <span class="o">=</span> <span class="s">ssh://unison@unison.flamy.ca//home/unison/sync</span></pre></div><div class="step step-level-1" step="8" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="12800" data-y="0" data-z="0"><h1 id="default-prf">default.prf</h1><p>All synchronization paths are relative to the roots</p><pre class="highlight code ini"><span class="na">root</span> <span class="o">=</span> <span class="s">/home/alex</span>
<span class="na">root</span> <span class="o">=</span> <span class="s">ssh://unison@unison.flamy.ca//home/unison/sync</span>

<span class="na">path</span> <span class="o">=</span> <span class="s">Documents</span>
<span class="na">path</span> <span class="o">=</span> <span class="s">vagrant</span>
<span class="na">path</span> <span class="o">=</span> <span class="s">Desktop</span>
<span class="na">path</span> <span class="o">=</span> <span class="s">Photos</span></pre></div><div class="step step-level-1" step="9" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="14400" data-y="0" data-z="0"><h1 id="synchronization-command">Synchronization command</h1><pre class="highlight code">$ unison -auto</pre></div><div class="step step-level-1" step="10" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="16000" data-y="0" data-z="0"><h1 id="summary-output">Summary output</h1><pre class="highlight code">Contacting server...
Connected [//sync//home/unison/sync -&gt; //workstation//home/alex]
Looking for changes
  Waiting for changes from server
Reconciling changes

local          sync
changed  ----&gt;            .config/sublime-text-3/Packages/TypeScript/typescript/TS.log
changed  ----&gt;            .config/sublime-text-3/Packages/User/Package Control.cache/01524fae79697630d0454ba3fabd9414
changed  ----&gt;            .config/sublime-text-3/Packages/User/Package Control.cache/01524fae79697630d0454ba3fabd9414.info
changed  ----&gt;            .config/sublime-text-3/Packages/User/Package Control.last-run

Proceed with propagating updates? []</pre></div><div class="step step-level-1" step="11" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="17600" data-y="0" data-z="0"><h1 id="batch-sync">Batch sync</h1><p>In batch mode, Unison doesnt ask any questions</p><pre class="highlight code">$ unison -batch</pre></div><div class="step step-level-1" step="12" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="19200" data-y="0" data-z="0"><h1 id="sync-via-socket">Sync via socket</h1><p>specify remote root as a socket protocol</p><pre class="highlight code">socket://remotehost:portnum//absolute/path/of/root</pre></div><div class="step step-level-1" step="13" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="20800" data-y="0" data-z="0"><h1 id="using-multiple-unison-configurations">Using multiple unison configurations</h1><pre class="highlight code">$ unison &lt;profile_name&gt; -auto</pre><p>Where profile name is '.prf' file i.e. ~/.unison/default.prf</p><p>There can be multiple profile files</p></div><div class="step step-level-1" step="14" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="22400" data-y="0" data-z="0"><h1 id="backup-option">backup option</h1><ul><li>backups/backup -- keep backup copies of all files</li><li>it is possible to specify different file patters/exclusions for backup</li></ul></div><div class="step step-level-1" step="15" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="24000" data-y="0" data-z="0"><h1 id="fastcheck">fastcheck</h1><p>Control diff trigger</p><ul><li>default  behaviour on linux -- compare timestamps &amp; inodes</li><li>default behaviouur on windows -- examining the file</li></ul><p>Options to control check behaviour</p><pre class="highlight code">- fastcheck true|false|auto</pre></div><div class="step step-level-1" step="16" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="25600" data-y="0" data-z="0"><h1 id="prefer">prefer</h1><p>Automatic reconciliation preference</p><ul><li>prefer &lt;root&gt; newer/older</li></ul></div><div class="step step-level-1" step="17" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="27200" data-y="0" data-z="0"><h1 id="issues">Issues</h1><ul><li>No understanding of hard links</li><li>Synchronization between different versions of unison is iffy</li><li>Requires lots of ram to sync the changes.</li></ul><blockquote><ul><li>Up to 2GB of RAM for large diffs</li></ul></blockquote></div><div class="step step-level-1" step="18" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="28800" data-y="0" data-z="0"><h1 id="questions">Questions</h1></div></div><div id="hovercraft-help" class="hide"><table><tr><th>Space</th><td>Forward</td></tr><tr><th>Right, Down, Page Down</th><td>Next slide</td></tr><tr><th>Left, Up, Page Up</th><td>Previous slide</td></tr><tr><th>G</th><td>Go to slide number</td></tr><tr><th>P</th><td>Open presenter console</td></tr><tr><th>H</th><td>Toggle this help</td></tr></table></div><script type="text/javascript" src="js/impress.js"></script><script type="text/javascript" src="js/impressConsole.js"></script><script type="text/javascript" src="js/hovercraft.js"></script></body></html>